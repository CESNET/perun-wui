<!DOCTYPE html>
<html>
<head>

	<!-- Charset -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">

	<!-- Mobile device support -->
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Default GWT locale	-->
	<meta id="meta-lang" name="gwt:property" content="locale=en">

	<!-- FavIcons -->
	<link rel="icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAQAQAABMLAAATCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADPlwDvz5cAzwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAz5cAv8+XAL/PlwAgz5cAn8+XABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAz5cAIAAAAADPlwBQz5cAEM+XAL8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM+XAIDPlwBQz5cAIM+XAK8AAAAAz5cAgM+XADDPlwBQz5cAEAAAAADPlwCAz5cAjwAAAAAAAAAAAAAAAAAAAADPlwBgz5cAn8+XABDPlwBQz5cAEM+XADDPlwAwz5cAIM+XAL/PlwAQz5cA78+XAP8AAAAAAAAAAAAAAAAAAAAAAAAAAM+XABDPlwBwAAAAAM+XABDPlwBAz5cAIAAAAADPlwAwz5cAj8+XADDPlwAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM+XADDPlwCvz5cAgM+XAJ/PlwCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADPlwAgAAAAAAAAAAAAAAAAz5cAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM+XAGDPlwAgAAAAAM+XABDPlwBwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADPlwAQz5cAn8+XAL/PlwCvz5cAMM+XACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM+XABDPlwCfAAAAAAAAAAAAAAAAAAAAAM+XABDPlwAwz5cAjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM+XAM/PlwDfz5cAEM+XAEDPlwAwz5cAYAAAAADPlwCAAAAAAM+XAFDPlwD/z5cAYAAAAAAAAAAAAAAAAAAAAADPlwDvz5cAvwAAAADPlwDvAAAAAM+XAIAAAAAAz5cAcM+XAGAAAAAAz5cAgM+XABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAz5cAIAAAAADPlwCvz5cAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAz5cA78+XAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/P8AAPwfmhT6P5kUwhMAAMADAADkQ/+/+D8AAPu/AAD//wAA+T8AAPgf///nj///wKP//8qT///6f////n///w==" type="image/x-icon">
	<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAQAQAABMLAAATCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADPlwDvz5cAzwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAz5cAv8+XAL/PlwAgz5cAn8+XABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAz5cAIAAAAADPlwBQz5cAEM+XAL8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM+XAIDPlwBQz5cAIM+XAK8AAAAAz5cAgM+XADDPlwBQz5cAEAAAAADPlwCAz5cAjwAAAAAAAAAAAAAAAAAAAADPlwBgz5cAn8+XABDPlwBQz5cAEM+XADDPlwAwz5cAIM+XAL/PlwAQz5cA78+XAP8AAAAAAAAAAAAAAAAAAAAAAAAAAM+XABDPlwBwAAAAAM+XABDPlwBAz5cAIAAAAADPlwAwz5cAj8+XADDPlwAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM+XADDPlwCvz5cAgM+XAJ/PlwCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADPlwAgAAAAAAAAAAAAAAAAz5cAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM+XAGDPlwAgAAAAAM+XABDPlwBwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADPlwAQz5cAn8+XAL/PlwCvz5cAMM+XACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM+XABDPlwCfAAAAAAAAAAAAAAAAAAAAAM+XABDPlwAwz5cAjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM+XAM/PlwDfz5cAEM+XAEDPlwAwz5cAYAAAAADPlwCAAAAAAM+XAFDPlwD/z5cAYAAAAAAAAAAAAAAAAAAAAADPlwDvz5cAvwAAAADPlwDvAAAAAM+XAIAAAAAAz5cAcM+XAGAAAAAAz5cAgM+XABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAz5cAIAAAAADPlwCvz5cAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAz5cA78+XAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/P8AAPwfmhT6P5kUwhMAAMADAADkQ/+/+D8AAPu/AAD//wAA+T8AAPgf///nj///wKP//8qT///6f////n///w==" type="image/x-icon">

	<!-- Title -->
	<title>Perun Identity Consolidator</title>

	<!-- Static resources -->
	<script src="./static/jquery-1.12.4.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ sha512-jGsMH83oKe9asCpkOVkBnUrDDTp8wl+adkB2D+//JtlxO4SrLoJdhbOysIFQJloQFD+C4Fl1rMsQZF76JjV0eQ==" ></script>
	<link href="./static/bootstrap.min.css" rel="stylesheet" integrity="sha256-0aR8WoN1mQJYXL4Eo9zoE+VafSZEKO/5C7flVi2HFSQ= sha512-aANNxkx5fovm15oWBCqmaUBCsqRzuwae+5T8s/UvwoYku77uSUBnk7fIaijHNIOxX3Z4qxKLgP/hPwp5/POSlQ==" >
	<script src="./static/bootstrap.min.js" integrity="sha256-07L2YLQ0uPLEwYet/g8LarTr/92Z2iMuaQARIxHWZ5g= sha512-EuYCw1FhoKYT5MdBRdgcfCTXL9jHlBwik9hPRgPhjIvf7Lqc/UO3uHVbCKX+40rhGnBword8i3o6iBp0i1OHWA==" ></script>
	<link href="./static/font-awesome.min.css" rel="stylesheet" integrity="sha256-roYBgWmjeOsmYMKlcnmZ+/wS+eJ11bVnnKVOoO8IkPQ= sha384-dNpIIXE8U05kAbPhy3G1cz+yZmTzA6CY8Vg/u2L9xRnHjJiAK76m2BIEaSEV+/aU sha512-yXD4uNp46x5o45emA8tif5bzX9zXSMdSHiP6SBpD8B1ufUSeT7ogBn3EJQ41woJOkAqkMWVYUufuhF2U4z/Eqg==" >

	<!--  RPC definition -->
	<script type="text/javascript" language="javascript" >

		RPC_SERVER = window.location.pathname.split("/")[1];

		// get URL param function
		function getURLParameter(name) {
			return decodeURI(
				(RegExp(name + '=' + '(.+?)(&|$)').exec(location.search)||[,'default'])[1]
			);
		}

		var l_lang;
		l_lang = getURLParameter('locale');

		// if no locale set in URL
		if (l_lang === 'default') {

			if (typeof(Storage) !== "undefined") {

				l_lang = localStorage.getItem("urn:perun:gui:preferences:language")

			}

			// if not set, set from browser settings
			if (l_lang == null) {

				if (navigator.userLanguage) // Explorer
					l_lang = navigator.userLanguage.split("-")[0];
				else if (navigator.language) // FF
					l_lang = navigator.language;
				else
					l_lang = "en";

			}

		}

		var ele = document.getElementById("meta-lang");
		ele.setAttribute('content', 'locale='+l_lang);

		// determine version of IE
		function getIEVersion() {
			var sAgent = window.navigator.userAgent;
			var Idx = sAgent.indexOf("MSIE");

			// If IE, return version number.
			if (Idx > 0)
				return parseInt(sAgent.substring(Idx+ 5, sAgent.indexOf(".", Idx)));

			// If IE 11 then look for Updated user agent string.
			else if (!!navigator.userAgent.match(/Trident\/7\./))
				return 11;

			else
				return 0; //It is not IE
		}

		// Skip on Chrome 1+, Firefox 3.5+, IE 8+, Opera 10+, Safari 3.2
		if (getIEVersion() !== 0 && getIEVersion() < 10) {
			// Is IE < 10
			alert("Unsupported browser. Please use either: Internet Explorer 10+ or Edge, Firefox, Chrome, Opera 15+ or Safari");
		}
		var isOperaBefore15 = (window.opera && navigator.userAgent.indexOf(' OPR/') === -1);
		if (isOperaBefore15) {
			alert("Unsupported browser. Please use either: Internet Explorer 10+ or Edge, Firefox, Chrome, Opera 15+ or Safari");
		}

		$(document).ready(function() {
			// Methods which check if the Perun connection is OK, run only on startup
			executeQuery();
		});

		function reloadMsg() {

			if (l_lang === "en" || l_lang === "default") {
				alert("Data connection lost. Server is probably being restarted or URL \"/"+RPC_SERVER+"/rpc/\" is not valid. Click OK to reload the page.");
			} else if (l_lang === "cs") {
				alert("Aplikace ztratila spojení. Server se pravděpodobně právě restartuje nebo URL \"/"+RPC_SERVER+"/rpc/\" není platná. Klikněte na OK pro obnovení stránky.");
			} else {
				alert("Data connection lost. Server is probably being restarted or URL \"/"+RPC_SERVER+"/rpc/\" is not valid. Click OK to reload the page.");
			}

			window.location.reload(true);
		}

		function executeQuery() {
			$.ajax({
				url: "/"+RPC_SERVER+"/rpc/",
				success: function(data) {
					if (!(data.indexOf("OK!") === 0)) {
						reloadMsg();
					}
				},
				statusCode: {
					404: function() {
						reloadMsg();
					},
					401: function() {
						reloadMsg();
					},
					302: function() {
						window.location.reload(true);
					},
					0: function() {
						window.location.reload(true);
					}
				},
				error: function(jqXHR, textStatus, errorThrown) {
					if (jqXHR.status === 0) {
						window.location.reload(true);
					} else if (jqXHR.status === 302) {
						window.location.reload(true);
					} else {
						reloadMsg();
					}
				}
			});
		}

		/* Local Wayf config */
		var perun_config = {
			"wayf.groups": [
				{
					"name" : {
						"en" : "Institutional ID or social provider",
						"cs" : "Domovská organizace nebo social síť"
					},
					"description" : {
						"en" : "Click this button and then select the other login you want to link to your LifescienceID account",
						"cs" : "Pokračovat"
					},
					"type" : "direct",
					"url" : "fed",
					"icon" : "data:image/png;base64,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"
				}

			]
		}

	</script>

	<!-- Load GWT GUI -->
	<script type="text/javascript" language="javascript" src="./PerunConsolidator/PerunConsolidator.nocache.js"></script>

	<style type="text/css" >

		/* Sticky footer */
		body {
			height: 100vh; /* Not use min-height because of IE 10/11 bug */
			display: flex;
			flex-direction: column;
		}
		body > * {
			flex-shrink: 0; /* because items used to shrink when content is too long */
		}
		#app-content {
			flex: 1 0 auto;
		}

		#perun-footer {
			margin-top: 3em;
			background-color: #f8f8f8;
			border-top: 1px solid #e7e7e7;
		}
		#perun-credits {
			padding-top: 1em;
			padding-bottom: 1em;
		}
		@media(min-width:992px) {
			#perun-credits {
				text-align: right;
			}
		}
		#perun-help {
			padding-top: 1em;
			padding-bottom: 1em;
		}

	</style>

</head>
<body>

<div id="app-content">
	<!-- Div we include our webapp too -->
</div>

<!-- OPTIONAL: include this if you want history support -->
<iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1'
		style="position: absolute; width: 0; height: 0; border: 0"></iframe>

<!-- RECOMMENDED if your web app will not function without JavaScript enabled -->
<noscript>
	<div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
		Your web browser must have JavaScript enabled in order for this
		application to display correctly.</div>
</noscript>

<div id="perun-footer">
	<div class="container">
		<div class="row">
			<div id="perun-help" class="col col-md-6 col-lg-6 col-sm-6 col-xs-12"></div>
			<div style="padding-top: 1em; padding-bottom: 1em;" class="col col-md-6 col-lg-6 col-sm-6 col-xs-12">
				<p>© Copyright: CESNET, CERIT-SC ; Operated by: MU, EGI</p>
			</div>
		</div>
	</div>
</div>
</body>

</html>
